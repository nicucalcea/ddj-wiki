var nn=Object.defineProperty;var a=(e,t)=>nn(e,"name",{value:t,configurable:!0});var ve,pe,me;import{html as m}from"../../_npm/htl@0.3.1/_esm.js";import{AbstractFile as rn}from"../stdlib.js";var an=Object.defineProperty,it=a((e,t)=>an(e,"name",{value:t,configurable:!0}),"t$6");function B(e){return e==null?null:typeof e=="number"?`${e}px`:`${e}`}a(B,"r$8"),it(B,"length");function I(e){return{"--input-width":B(e)}}a(I,"l$6"),it(I,"maybeWidth");var on=Object.defineProperty,Te=a((e,t)=>on(e,"name",{value:t,configurable:!0}),"e$1");const De={bubbles:!0};function Q(e){e.preventDefault()}a(Q,"c$5"),Te(Q,"preventDefault");function ue({currentTarget:e}){(e.form||e).dispatchEvent(new Event("input",De))}a(ue,"o$9"),Te(ue,"dispatchInput");function ze(e){return e.checkValidity()}a(ze,"r$7"),Te(ze,"checkValidity");var ln=Object.defineProperty,un=a((e,t)=>ln(e,"name",{value:t,configurable:!0}),"n$6");function L(e){return e}a(L,"o$8"),un(L,"identity");var sn=Object.defineProperty,cn=a((e,t)=>sn(e,"name",{value:t,configurable:!0}),"n$5");let fn=0;function se(){return`inputs-3a86ea-${++fn}`}a(se,"o$7"),cn(se,"newId");var dn=Object.defineProperty,vn=a((e,t)=>dn(e,"name",{value:t,configurable:!0}),"o$6");function D(e,t){if(e)return e=m`<label>${e}`,t!==void 0&&(e.htmlFor=t.id=se()),e}a(D,"u$3"),vn(D,"maybeLabel");var pn=Object.defineProperty,lt=a((e,t)=>pn(e,"name",{value:t,configurable:!0}),"m$3");function ut(e="\u2261",{label:t="",value:n,reduce:o,disabled:r,required:i=!1,width:u}={}){const d=typeof e=="string"||e instanceof Node;d?(!i&&n===void 0&&(n=0),o===void 0&&(o=lt(($=0)=>$+1,"reduce")),r=new Set(r?[e]:[]),e=[[e,o]]):(!i&&n===void 0&&(n=null),r=new Set(r===!0?Array.from(e,([$])=>$):r||void 0));const f=m`<form class=inputs-3a86ea>`;f.addEventListener("submit",Q);const s={width:B(u)},v=Array.from(e,([$,O=L])=>{if(typeof O!="function")throw new TypeError("reduce is not a function");return m`<button disabled=${r.has($)} style=${s} onclick=${b=>{f.value=O(f.value),ue(b)}}>${$}`});return(t=D(t,d?v[0]:void 0))&&f.append(t),f.append(...v),f.value=n,f}a(ut,"D$1"),lt(ut,"button");var mn=Object.defineProperty,qe=a((e,t)=>mn(e,"name",{value:t,configurable:!0}),"n$4");function Z(e){return Array.isArray(e)?e:Array.from(e)}a(Z,"u$2"),qe(Z,"arrayify");function Le(e){return e?typeof e[Symbol.iterator]=="function":!1}a(Le,"o$5"),qe(Le,"iterable");function Me(e){if(Le(e.columns))return e.columns;if(e.schema&&Le(e.schema.fields))return Array.from(e.schema.fields,t=>t.name);if(typeof e.columnNames=="function")return e.columnNames()}a(Me,"i$4"),qe(Me,"maybeColumns");var $n=Object.defineProperty,Ce=a((e,t)=>$n(e,"name",{value:t,configurable:!0}),"i$3");function st(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),o=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return`${ct(e.getUTCFullYear())}-${M(e.getUTCMonth()+1,2)}-${M(e.getUTCDate(),2)}${n||o||r||i?`T${M(n,2)}:${M(o,2)}${r||i?`:${M(r,2)}${i?`.${M(i,3)}`:""}`:""}Z`:""}`}a(st,"c$4"),Ce(st,"format");function ct(e){return e<0?`-${M(-e,6)}`:e>9999?`+${M(e,6)}`:M(e,4)}a(ct,"f$4"),Ce(ct,"formatYear");function M(e,t){return`${e}`.padStart(t,"0")}a(M,"t$4"),Ce(M,"pad");var bn=Object.defineProperty,hn=a((e,t)=>bn(e,"name",{value:t,configurable:!0}),"t$3");const yn=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function ft(e,t){return yn.test(e+="")?new Date(e):typeof t=="function"?t(e):t}a(ft,"r$4"),hn(ft,"parse");var gn=Object.defineProperty,ye=a((e,t)=>gn(e,"name",{value:t,configurable:!0}),"i$2");function J(e){return e==null?"":`${e}`}a(J,"x$1"),ye(J,"stringify");const ge=fe(e=>{const t=ce(e);return n=>n==null?"":typeof n=="number"?t(n):n instanceof Date?_e(n):`${n}`}),ce=fe(e=>t=>t===0?"0":t.toLocaleString(e)),_n=ge(),wn=ce();function Fe(e){const t=e.toString(),n=t.length;let o=-1,r;e:for(let i=1;i<n;++i)switch(t[i]){case".":o=r=i;break;case"0":o===0&&(o=i),r=i;break;default:if(!+t[i])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(r+1):t}a(Fe,"y$1"),ye(Fe,"formatTrim");function _e(e){return st(e,"Invalid Date")}a(_e,"l$4"),ye(_e,"formatDate");function fe(e){let t=fe,n;return(o="en")=>o===t?n:n=e(t=o)}a(fe,"a$4"),ye(fe,"localize");var On=Object.defineProperty,Re=a((e,t)=>On(e,"name",{value:t,configurable:!0}),"r$3");function we(e,t){return X(t)-X(e)||(e<t?-1:e>t?1:e>=t?0:NaN)}a(we,"N$3"),Re(we,"ascending");function Ue(e,t){return X(t)-X(e)||(t<e?-1:t>e?1:t>=e?0:NaN)}a(Ue,"o$3"),Re(Ue,"descending");function X(e){return e!=null&&!Number.isNaN(e)}a(X,"t$2"),Re(X,"defined");var xn=Object.defineProperty,C=a((e,t)=>xn(e,"name",{value:t,configurable:!0}),"o$2");const kn=C(([e])=>e,"first"),dt=C(([,e])=>e,"second");function Ie({multiple:e,render:t,selectedIndexes:n,select:o}){return C(function(r,{locale:i,keyof:u=r instanceof Map?kn:L,valueof:d=r instanceof Map?dt:L,format:f=(g=>(y,j,x)=>g(u(y,j,x)))(ge(i)),multiple:s,key:v,value:$,disabled:O=!1,sort:b,unique:h,...N}={}){if(typeof u!="function")throw new TypeError("keyof is not a function");if(typeof d!="function")throw new TypeError("valueof is not a function");if(typeof f!="function")throw new TypeError("format is not a function");e!==void 0&&(s=e),b=mt(b);let g=+s;$===void 0&&($=v!==void 0&&r instanceof Map?g>0?Array.from(v,k=>r.get(k)):r.get(v):void 0),h=!!h,r=Z(r);let y=r.map((k,P)=>[u(k,P,r),P]);b!==void 0&&y.sort(([k],[P])=>b(k,P)),h&&(y=[...new Map(y.map(k=>[bt(k[0]),k])).values()]);const j=y.map(dt);s===!0?g=Math.max(1,Math.min(10,j.length)):g>0?s=!0:(s=!1,g=void 0);const[x,p]=t(r,j,vt(r,j,$,s,d),pt(r,j,O,d),{...N,format:f,multiple:s,size:g});x.addEventListener("input",_),x.addEventListener("change",ue),x.addEventListener("submit",Q);function _(k){if(k&&k.isTrusted&&x.removeEventListener("change",ue),s)$=n(p).map(P=>d(r[P],P,r));else{const P=$t(p);$=P<0?null:d(r[P],P,r)}}return a(_,"T"),C(_,"oninput"),_(),Object.defineProperty(x,"value",{get(){return $},set(k){if(s){const P=new Set(k);for(const z of p){const R=+z.value;o(z,P.has(d(r[R],R,r)))}}else p.value=j.find(P=>k===d(r[P],P,r));_()}})},"chooser")}a(Ie,"_$1"),C(Ie,"createChooser");function vt(e,t,n,o,r){const i=new Set(n===void 0?[]:o?Z(n):[n]);if(!i.size)return()=>!1;const u=new Set;for(const d of t)i.has(r(e[d],d,e))&&u.add(d);return d=>u.has(d)}a(vt,"J$2"),C(vt,"maybeSelection");function pt(e,t,n,o){if(typeof n=="boolean")return n;const r=new Set(Z(n)),i=new Set;for(const u of t)r.has(o(e[u],u,e))&&i.add(u);return u=>i.has(u)}a(pt,"K$2"),C(pt,"maybeDisabled");function mt(e){if(!(e===void 0||e===!1)){if(e===!0||e==="ascending")return we;if(e==="descending")return Ue;if(typeof e=="function")return e;throw new TypeError("sort is not a function")}}a(mt,"N$2"),C(mt,"maybeSort");function $t(e){return e.value?+e.value:-1}a($t,"Q"),C($t,"selectedIndex");function bt(e){return e!==null&&typeof e=="object"?e.valueOf():e}a(bt,"R$1"),C(bt,"intern");var jn=Object.defineProperty,ee=a((e,t)=>jn(e,"name",{value:t,configurable:!0}),"s$3");function He(e,t){return Ie({multiple:e,render(n,o,r,i,{format:u,label:d}){const f=m`<form class="inputs-3a86ea inputs-3a86ea-checkbox">
      ${D(d)}<div>
        ${o.map(s=>m`<label><input type=${t} disabled=${typeof i=="function"?i(s):i} name=input value=${s} checked=${r(s)}>${u(n[s],s,n)}`)}
      </div>
    </form>`;return[f,yt(f.elements.input,e)]},selectedIndexes(n){return Array.from(n).filter(o=>o.checked).map(o=>+o.value)},select(n,o){n.checked=o}})}a(He,"y"),ee(He,"createCheckbox");const Nn=He(!1,"radio"),Pn=He(!0,"checkbox");function ht({label:e,value:t,values:n,disabled:o}={}){const r=m`<input class=inputs-3a86ea-input type=checkbox name=input disabled=${o}>`,i=m`<form class="inputs-3a86ea inputs-3a86ea-toggle">${D(e,r)}${r}`;return Object.defineProperty(i,"value",{get(){return n===void 0?r.checked:n[r.checked?0:1]},set(u){r.checked=n===void 0?!!u:u===n[0]}}),t!==void 0&&(i.value=t),i}a(ht,"P"),ee(ht,"toggle");function yt(e,t){return e===void 0?new Sn(t?[]:null):typeof e.length>"u"?new(t?En:An)(e):e}a(yt,"x"),ee(yt,"inputof");const gt=(ve=class{constructor(t){this._value=t}get value(){return this._value}set value(t){}*[Symbol.iterator](){}},a(ve,"f"),ve);ee(gt,"OptionZero");let Sn=gt;const _t=(pe=class{constructor(t){this._input=t}get value(){const{_input:t}=this;return t.checked?t.value:""}set value(t){const{_input:n}=this;n.checked||(n.checked=J(t)===n.value)}*[Symbol.iterator](){yield this._input}},a(pe,"_"),pe);ee(_t,"OptionOne");let An=_t;const wt=(me=class{constructor(t){this._input=t,this._value=t.checked?[t.value]:[]}get value(){return this._value}set value(t){const{_input:n}=this;n.checked||(n.checked=J(t)===n.value,this._value=n.checked?[n.value]:[])}*[Symbol.iterator](){yield this._input}},a(me,"m"),me);ee(wt,"MultipleOptionOne");let En=wt;var Tn=Object.defineProperty,Dn=a((e,t)=>Tn(e,"name",{value:t,configurable:!0}),"i$1");function Oe(e){if(e===void 0)return[null,null];const t=se();return[m`<datalist id=${t}>${Array.from(e,n=>m`<option value=${J(n)}>`)}`,t]}a(Oe,"p"),Dn(Oe,"maybeDatalist");var zn=Object.defineProperty,T=a((e,t)=>zn(e,"name",{value:t,configurable:!0}),"e");function te(e,t,n,{validate:o=ze,submit:r}={},{get:i=T(s=>s.value,"get"),set:u=T((s,v)=>s.value=J(v),"set"),same:d=T((s,v)=>s.value===v,"same"),after:f=T(s=>t.after(s),"after")}={}){r=r===!0?"Submit":r||null;const s=r?m`<button type=submit disabled>${r}`:null;r&&f(s),u(t,n),n=o(t)?i(t):void 0,e.addEventListener("submit",$),t.oninput=O;function v(){if(o(t))return n=i(t),!0}a(v,"i"),T(v,"update");function $(b){Q(b),r&&(v()?(s.disabled=!0,ue(b)):t.reportValidity())}a($,"m"),T($,"onsubmit");function O(b){r?(s.disabled=d(t,n),b.stopPropagation()):v()||b.stopPropagation()}return a(O,"$"),T(O,"oninput"),Object.defineProperty(e,"value",{get(){return n},set(b){u(t,b),v()}})}a(te,"S"),T(te,"createText");function ne({label:e,value:t="",type:n="text",placeholder:o,pattern:r,spellcheck:i,autocomplete:u,autocapitalize:d,min:f,max:s,minlength:v,maxlength:$,required:O=v>0,datalist:b,readonly:h,disabled:N,width:g,...y}={}){const[j,x]=Oe(b),p=m`<input
    type=${n}
    name=text
    list=${x}
    readonly=${h}
    disabled=${N}
    required=${O}
    min=${f}
    max=${s}
    minlength=${v}
    maxlength=${$}
    pattern=${r}
    spellcheck=${xe(i)}
    autocomplete=${W(u)}
    autocapitalize=${W(d)}
    placeholder=${o}
  >`,_=m`<form class=inputs-3a86ea style=${I(g)}>
    ${D(e,p)}<div class=inputs-3a86ea-input>
      ${p}
    </div>${j}
  </form>`;return te(_,p,t,y)}a(ne,"s$2"),T(ne,"text");function Ot(e){return ne({...e,type:"email"})}a(Ot,"J$1"),T(Ot,"email");function xt(e){return ne({...e,type:"tel"})}a(xt,"K$1"),T(xt,"tel");function kt(e){return ne({...e,type:"url"})}a(kt,"M"),T(kt,"url");function jt(e){return ne({...e,type:"password"})}a(jt,"N$1"),T(jt,"password");function xe(e){return e==null?null:`${e}`}a(xe,"T$1"),T(xe,"truefalse");function W(e){return e==null?null:`${e===!1?"off":e===!0?"on":e}`}a(W,"b$3"),T(W,"onoff");var qn=Object.defineProperty,Ln=a((e,t)=>qn(e,"name",{value:t,configurable:!0}),"a$2");function Nt({label:e,value:t,required:n,datalist:o,readonly:r,disabled:i,width:u,...d}={}){const[f,s]=Oe(o),v=se(),$=m`<input
    type=color
    name=text
    value=${t}
    id=${v}
    list=${s}
    readonly=${r}
    disabled=${i}
    required=${n}
  >`,O=m`<output
    for=${v}
  >`;O.value=$.value,$.addEventListener("input",()=>O.value=$.value);const b=m`<form class=inputs-3a86ea style=${I(u)}>
    ${D(e,$)}<div class=inputs-3a86ea-input>
      <div class=inputs-3a86ea-input>${$}${O}</div>
    </div>${f}
  </form>`;return te(b,$,t,d,{after:h=>$.parentNode.after(h)})}a(Nt,"W$2"),Ln(Nt,"color");var Mn=Object.defineProperty,re=a((e,t)=>Mn(e,"name",{value:t,configurable:!0}),"n$2");const Cn={type:"date",get:e=>e.valueAsDate,set:(e,t)=>e.value=Ke(t),same:(e,t)=>+e.valueAsDate==+t,format:Ke},Fn={type:"datetime-local",get:e=>e.value?new Date(e.value):null,set:(e,t)=>e.value=Ze(t),same:(e,t)=>+new Date(e.value)==+t,format:Ze};function Be({label:e,min:t,max:n,required:o,readonly:r,disabled:i,width:u,value:d,...f}={},{type:s,format:v,...$}){const O=m`<input type=${s} name=date readonly=${r} disabled=${i} required=${o} min=${v(t)} max=${v(n)}>`,b=m`<form class=inputs-3a86ea style=${I(u)}>
    ${D(e,O)}<div class=inputs-3a86ea-input>
      ${O}
    </div>
  </form>`;return te(b,O,ke(d),f,$)}a(Be,"s$1"),re(Be,"createDate");function Pt(e){return Be(e,Cn)}a(Pt,"W$1"),re(Pt,"date");function St(e){return Be(e,Fn)}a(St,"j$2"),re(St,"datetime");function ke(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?ft(e,null):e==null||isNaN(e=+e)?null:new Date(+e)}a(ke,"o$1"),re(ke,"coerce");function Ke(e){return(e=ke(e))?e.toISOString().slice(0,10):e}a(Ke,"m$1"),re(Ke,"formatDate");function Ze(e){return(e=ke(e))?new Date(+e-e.getTimezoneOffset()*1e3*60).toISOString().slice(0,16):e}a(Ze,"f$2"),re(Ze,"formatDatetime");var Rn=Object.defineProperty,de=a((e,t)=>Rn(e,"name",{value:t,configurable:!0}),"c$2");function At(e,t){return(Array.isArray(e)?Tt:zt)(e,t)}a(At,"O$1"),de(At,"form");function Et(e){return m`<div>${e}`}a(Et,"v$1"),de(Et,"arrayTemplate");function Tt(e,{template:t=Et}={}){e=[...e];let n=e.map(({value:o})=>o);return Object.defineProperty(t(e),"value",{get(){for(let o=0,r=e.length;o<r;++o){const i=e[o].value;Object.is(i,n[o])||(n=[...n],n[o]=i)}return n},set(o=[]){for(let r=0,i=e.length;r<i;++r)e[r].value=o[r]}})}a(Tt,"m"),de(Tt,"arrayForm");function Dt(e){return m`<div>${Object.values(e)}`}a(Dt,"b$1"),de(Dt,"objectTemplate");function zt(e,{template:t=Dt}={}){e={...e};let n=Object.fromEntries(Object.entries(e).map(([o,{value:r}])=>[o,r]));return Object.defineProperty(t(e),"value",{get(){for(const o in n){const r=e[o].value;Object.is(r,n[o])||(n={...n},n[o]=r)}return n},set(o={}){for(const r in e)e[r].value=o[r]}})}a(zt,"j$1"),de(zt,"objectForm");var Un=Object.defineProperty,Je=a((e,t)=>Un(e,"name",{value:t,configurable:!0}),"r$2");function We(e){var o;const t=(o=class extends e{constructor(i){super(i.name),Object.defineProperty(this,"_",{value:i}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=URL.createObjectURL(this._))}async blob(){return this._}async stream(){return this._.stream()}},a(o,"n"),o);Je(t,"LocalFile");let n=t;return Je(function({label:r,required:i,accept:u,capture:d,multiple:f,disabled:s,width:v,value:$,submit:O,...b}={}){const h=m`<input
      type=file
      name=file
      disabled=${s}
      required=${i}
      accept=${u}
      capture=${d}
      multiple=${f}
    >`,N=m`<form class=inputs-3a86ea style=${I(v)}>
      ${D(r,h)}<div class=inputs-3a86ea-input>
        ${h}
      </div>
    </form>`;return te(N,h,void 0,b,{get:g=>f?Array.from(g.files,y=>new n(y)):g.files.length?new n(g.files[0]):null,set:()=>{},same:()=>!1})},"file")}a(We,"q"),Je(We,"fileOf");var In=Object.defineProperty,F=a((e,t)=>In(e,"name",{value:t,configurable:!0}),"l$1");const je=1e-6;function qt(e,t){return arguments.length<2&&(t=e,e=void 0),e===void 0&&(e=[]),Ve({extent:e},t)}a(qt,"J"),F(qt,"number");function Lt(e=[0,1],t){return Ve({extent:e,range:!0},t)}a(Lt,"K"),F(Lt,"range");function Ve({extent:[e,t],range:n},{format:o=Fe,transform:r,invert:i,label:u="",value:d,step:f,disabled:s,placeholder:v,validate:$=ze,width:O}={}){let b;if(typeof o!="function")throw new TypeError("format is not a function");(e==null||isNaN(e=+e))&&(e=-1/0),(t==null||isNaN(t=+t))&&(t=1/0),e>t&&([e,t]=[t,e],r===void 0&&(r=Ne)),f!==void 0&&(f=+f);const h=m`<input type=number min=${isFinite(e)?e:null} max=${isFinite(t)?t:null} step=${f??"any"} name=number required placeholder=${v} oninput=${x} disabled=${s}>`;let N;if(n){if(r===void 0&&(r=L),typeof r!="function")throw new TypeError("transform is not a function");if(i===void 0&&(i=r.invert===void 0?Ct(r):r.invert),typeof i!="function")throw new TypeError("invert is not a function");let p=+r(e),_=+r(t);p>_&&([p,_]=[_,p]),n=m`<input type=range min=${isFinite(p)?p:null} max=${isFinite(_)?_:null} step=${f===void 0||r!==L&&r!==Ne?"any":f} name=range oninput=${j} disabled=${s}>`,N=r===L?n:m`<input type=range min=${e} max=${t} step=${f===void 0?"any":f} name=range disabled=${s}>`}else n=null,r=i=L;const g=m`<form class=inputs-3a86ea style=${I(O)}>
    ${D(u,h)}<div class=inputs-3a86ea-input>
      ${h}${n}
    </div>
  </form>`;g.addEventListener("submit",Q);function y(p){return N?(p=Math.max(e,Math.min(t,p)),isFinite(p)?(N.valueAsNumber=p,N.valueAsNumber):p):+p}a(y,"M"),F(y,"coerce");function j(p){const _=y(i(n.valueAsNumber));if(isFinite(_)&&(h.valueAsNumber=Math.max(e,Math.min(t,_)),$(h))){b=h.valueAsNumber,h.value=o(b);return}p&&p.stopPropagation()}a(j,"w"),F(j,"onrange");function x(p){const _=y(h.valueAsNumber);if(isFinite(_)&&(n&&(n.valueAsNumber=r(_)),$(h))){b=_;return}p&&p.stopPropagation()}return a(x,"E"),F(x,"onnumber"),Object.defineProperty(g,"value",{get(){return b},set(p){p=y(p),isFinite(p)&&(h.valueAsNumber=p,n&&(n.valueAsNumber=r(p)),$(h)&&(b=p,h.value=o(b)))}}),d===void 0&&N&&(d=N.valueAsNumber),d!==void 0&&(g.value=d),g}a(Ve,"g$1"),F(Ve,"createRange");function Ne(e){return-e}a(Ne,"v"),F(Ne,"negate");function Mt(e){return e*e}a(Mt,"k"),F(Mt,"square");function Ct(e){return e===L||e===Ne?e:e===Math.sqrt?Mt:e===Math.log?Math.exp:e===Math.exp?Math.log:t=>Ft(e,t,t)}a(Ct,"D"),F(Ct,"solver");function Ft(e,t,n){let o=100,r,i,u;n=n===void 0?0:+n,t=+t;do i=e(n),u=e(n+je),i===u&&(u=i+je),n-=r=-1*je*(i-t)/(i-u);while(o-- >0&&Math.abs(r)>je);return o<0?NaN:n}a(Ft,"O"),F(Ft,"solve");var Hn=Object.defineProperty,V=a((e,t)=>Hn(e,"name",{value:t,configurable:!0}),"n$1");function Rt(e,{locale:t,format:n=Bn(t),label:o,query:r="",placeholder:i="Search",columns:u=Me(e),spellcheck:d,autocomplete:f,autocapitalize:s,filter:v=u===void 0?Ye:Ut(u),datalist:$,disabled:O,required:b=!0,width:h}={}){let N=[];e=Z(e),b=!!b;const[g,y]=Oe($),j=m`<input
    name=input
    type=search
    list=${y}
    disabled=${O}
    spellcheck=${xe(d)}
    autocomplete=${W(f)}
    autocapitalize=${W(s)}
    placeholder=${i}
    value=${r}
    oninput=${_}
  >`,x=m`<output name=output>`,p=m`<form class=inputs-3a86ea style=${I(h)}>
    ${D(o,j)}<div class=inputs-3a86ea-input>
      ${j}${x}
    </div>${g}
  </form>`;p.addEventListener("submit",Q);function _(){N=j.value||b?e.filter(v(j.value)):[],u!==void 0&&(N.columns=u),x.value=n(N.length)}return a(_,"c"),V(_,"oninput"),_(),Object.defineProperties(p,{value:{get(){return N}},query:{get(){return r},set(k){r=j.value=J(k),_()}}})}a(Rt,"Z$1"),V(Rt,"search");function Ye(e){const t=`${e}`.split(/\s+/g).filter(n=>n).map(Ge);return n=>{if(n==null)return!1;if(typeof n=="object")e:for(const o of t){for(const r of It(n))if(o.test(r))continue e;return!1}else for(const o of t)if(!o.test(n))return!1;return!0}}a(Ye,"W"),V(Ye,"searchFilter");function Ut(e){return t=>{const n=`${t}`.split(/\s+/g).filter(o=>o).map(Ge);return o=>{e:for(const r of n){for(const i of e)if(r.test(o[i]))continue e;return!1}return!0}}}a(Ut,"A"),V(Ut,"columnFilter");function*It(e){for(const t in e)yield e[t]}a(It,"B$2"),V(It,"valuesof");function Ge(e){return new RegExp(`(?:^|[^\\p{L}-])${Ht(e)}`,"iu")}a(Ge,"b"),V(Ge,"termFilter");function Ht(e){return e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}a(Ht,"G"),V(Ht,"escapeRegExp");const Bn=fe(e=>{const t=ce(e);return n=>`${t(n)} result${n===1?"":"s"}`}),Kn=Ie({render(e,t,n,o,{format:r,multiple:i,size:u,label:d,width:f}){const s=m`<select class=inputs-3a86ea-input disabled=${o===!0} multiple=${i} size=${u} name=input>
      ${t.map(v=>m`<option value=${v} disabled=${typeof o=="function"?o(v):!1} selected=${n(v)}>${J(r(e[v],v,e))}`)}
    </select>`;return[m`<form class=inputs-3a86ea style=${I(f)}>${D(d,s)}${s}`,s]},selectedIndexes(e){return Array.from(e.selectedOptions,t=>+t.value)},select(e,t){e.selected=t}});var Zn=Object.defineProperty,A=a((e,t)=>Zn(e,"name",{value:t,configurable:!0}),"l");const Bt=22;function Kt(e,t={}){const{rows:n=11.5,height:o,maxHeight:r=o===void 0?(n+1)*Bt-1:void 0,width:i={},maxWidth:u}=t,d=se(),f=m`<form class="inputs-3a86ea inputs-3a86ea-table" id=${d} style=${{height:B(o),maxHeight:B(r),width:typeof i=="string"||typeof i=="number"?B(i):void 0,maxWidth:B(u)}}>`;return e&&typeof e.then=="function"?(Object.defineProperty(f,"value",{configurable:!0,set(){throw new Error("cannot set value while data is unresolved")}}),Promise.resolve(e).then(s=>Qe({root:f,id:d},s,t))):Qe({root:f,id:d},e,t),f}a(Kt,"Ce"),A(Kt,"table");function Qe({root:e,id:t},n,{columns:o=Me(n),value:r,required:i=!0,sort:u,reverse:d=!1,format:f,locale:s,align:v,header:$,rows:O=11.5,width:b={},multiple:h=!0,layout:N}={}){o=o===void 0?Vt(n):Z(o),N===void 0&&(N=o.length>=12?"auto":"fixed"),f=Zt(f,n,o,s),v=Jt(v,n,o);let g=[],y=[],j=n[Symbol.iterator](),x=0,p=Wt(n),_=P(O*2);function k(){x>=0&&(x=j=void 0,y=Uint32Array.from(g=Z(n),(l,c)=>c),p=y.length)}a(k,"p"),A(k,"materialize");function P(l){if(l=Math.floor(l),p!==void 0)return Math.min(p,l);if(l<=x)return l;for(;l>x;){const{done:c,value:w}=j.next();if(c)return p=x;y.push(x++),g.push(w)}return x}a(P,"C"),A(P,"minlengthof");let z=null,R=!1,S=new Set,H=null,K=null;const q=m`<tbody>`,tn=m`<tr><td><input type=${h?"checkbox":"radio"} name=${h?null:"radio"}></td>${o.map(()=>m`<td>`)}`,$e=m`<tr><th><input type=checkbox onclick=${at} disabled=${!h}></th>${o.map(l=>m`<th title=${l} onclick=${c=>Ee(c,l)}><span></span>${$&&l in $?$[l]:l}</th>`)}</tr>`;e.appendChild(m.fragment`<table style=${{tableLayout:N}}>
  <thead>${P(1)||o.length?$e:null}</thead>
  ${q}
</table>
<style>${o.map((l,c)=>{const w=[];if(v[l]!=null&&w.push(`text-align:${v[l]}`),b[l]!=null&&w.push(`width:${B(b[l])}`),w.length)return`#${t} tr>:nth-child(${c+2}){${w.join(";")}}`}).filter(L).join(`
`)}</style>`);function be(l,c){if(x===l){for(;l<c;++l)Se(j.next().value,l);x=c}else for(let w;l<c;++l)w=y[l],Se(g[w],w)}a(be,"q"),A(be,"appendRows");function Se(l,c){const w=tn.cloneNode(!0),E=ae(w);if(E.onclick=ot,E.checked=S.has(c),E.value=c,l!=null)for(let G=0;G<o.length;++G){let he=o[G],U=l[he];X(U)&&(U=f[he](U,c,n),U instanceof Node||(U=document.createTextNode(U)),w.childNodes[G+1].appendChild(U))}q.append(w)}a(Se,"G"),A(Se,"appendRow");function Y(l){k();let c=y.indexOf(l);if(c<q.childNodes.length){const w=q.childNodes[c];ae(w).checked=!1}S.delete(l)}a(Y,"H"),A(Y,"unselect");function ie(l){k();let c=y.indexOf(l);if(c<q.childNodes.length){const w=q.childNodes[c];ae(w).checked=!0}S.add(l)}a(ie,"v"),A(ie,"select");function*Ae(l,c){if(k(),l=y.indexOf(l),c=y.indexOf(c),l<c)for(;l<=c;)yield y[l++];else for(;c<=l;)yield y[c++]}a(Ae,"J"),A(Ae,"range");function rt(l){return l[Symbol.iterator]().next().value}a(rt,"ne"),A(rt,"first");function at(l){if(k(),this.checked){S=new Set(y);for(const c of q.childNodes)ae(c).checked=!0}else{for(let c of S)Y(c);H=K=null,l.detail&&l.currentTarget.blur()}le()}a(at,"ie"),A(at,"reselectAll");function ot(l){k();let c=+this.value;if(h)if(l.shiftKey){if(H===null)H=S.size?rt(S):y[0];else for(let w of Ae(H,K))Y(w);K=c;for(let w of Ae(H,K))ie(w)}else H=K=c,S.has(c)?(Y(c),H=K=null,l.detail&&l.currentTarget.blur()):ie(c);else{for(let w of S)Y(w);ie(c)}le()}a(ot,"re"),A(ot,"reselect");function Ee(l,c){k();const w=l.currentTarget;let E;if(z===w&&l.metaKey)Pe(z).textContent="",z=null,R=!1,E=we;else{z===w?R=!R:(z&&(Pe(z).textContent=""),z=w,R=l.altKey);const G=R?Ue:we;E=A((he,U)=>G(g[he][c],g[U][c]),"compare"),Pe(w).textContent=R?"\u25BE":"\u25B4"}for(y.sort(E),S=new Set(Array.from(S).sort(E)),e.scrollTo(e.scrollLeft,0);q.firstChild;)q.firstChild.remove();be(0,_=P(O*2)),H=K=null,le()}a(Ee,"Q"),A(Ee,"resort");function le(){const l=ae($e);l.disabled=!h&&!S.size,l.indeterminate=h&&S.size&&S.size!==p,l.checked=S.size,r=void 0}if(a(le,"D"),A(le,"reinput"),e.addEventListener("scroll",()=>{e.scrollHeight-e.scrollTop<O*Bt*1.5&&_<P(_+1)&&be(_,_=P(_+O))}),u===void 0&&d&&(k(),y.reverse()),r!==void 0){if(k(),h){const l=new Set(r);S=new Set(y.filter(c=>l.has(g[c])))}else{const l=g.indexOf(r);S=l<0?new Set:new Set([l])}le()}if(P(1)?be(0,_):q.append(m`<tr>${o.length?m`<td>`:null}<td rowspan=${o.length} style="padding-left: var(--length3); font-style: italic;">No results.</td></tr>`),u!==void 0){let l=o.indexOf(u);l>=0&&(d&&(z=$e.childNodes[l+1]),Ee({currentTarget:$e.childNodes[l+1]},o[l]))}return Object.defineProperty(e,"value",{get(){if(r===void 0)if(k(),h)r=Array.from(i&&S.size===0?y:S,l=>g[l]),r.columns=o;else if(S.size){const[l]=S;r=g[l]}else r=null;return r},set(l){if(k(),h){const c=new Set(l),w=new Set(y.filter(E=>c.has(g[E])));for(const E of S)w.has(E)||Y(E);for(const E of w)S.has(E)||ie(E)}else{const c=g.indexOf(l);S=c<0?new Set:new Set([c])}r=void 0}})}a(Qe,"Z"),A(Qe,"initialize");function ae(e){return e.firstChild.firstChild}a(ae,"R"),A(ae,"inputof");function Pe(e){return e.firstChild}a(Pe,"B$1"),A(Pe,"orderof");function Zt(e={},t,n,o){const r=Object.create(null);for(const i of n){if(i in e){r[i]=e[i];continue}switch(Xe(t,i)){case"number":r[i]=ce(o);break;case"date":r[i]=_e;break;default:r[i]=ge(o);break}}return r}a(Zt,"pe"),A(Zt,"formatof");function Jt(e={},t,n){const o=Object.create(null);for(const r of n)r in e?o[r]=e[r]:Xe(t,r)==="number"&&(o[r]="right");return o}a(Jt,"ye"),A(Jt,"alignof");function Xe(e,t){for(const n of e){if(n==null)continue;const o=n[t];if(o!=null)return typeof o=="number"?"number":o instanceof Date?"date":void 0}}a(Xe,"ee"),A(Xe,"type");function Wt(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.numRows=="function")return e.numRows()}a(Wt,"be"),A(Wt,"lengthof");function Vt(e){const t=new Set;for(const n of e)for(const o in n)t.add(o);return Array.from(t)}a(Vt,"me"),A(Vt,"columnsof");var Jn=Object.defineProperty,Yt=a((e,t)=>Jn(e,"name",{value:t,configurable:!0}),"a$1");function Gt({value:e="",label:t,placeholder:n,spellcheck:o,autocomplete:r,autocapitalize:i,rows:u=3,minlength:d,maxlength:f,required:s=d>0,readonly:v,disabled:$,monospace:O=!1,resize:b=u<12,width:h,...N}={}){const g=m`<textarea
    name=text
    readonly=${v}
    disabled=${$}
    required=${s}
    rows=${u}
    minlength=${d}
    maxlength=${f}
    spellcheck=${xe(o)}
    autocomplete=${W(r)}
    autocapitalize=${W(i)}
    placeholder=${n}
    onkeydown=${j}
    style=${{width:h,fontFamily:O?"var(--monospace, monospace)":null,resize:b?null:"none"}}
  >`,y=m`<form class="inputs-3a86ea inputs-3a86ea-textarea" style=${I(h)}>
    ${D(t,g)}<div>
      ${g}
    </div>
  </form>`;function j(x){if(N.submit&&x.key==="Enter"&&(x.metaKey||x.ctrlKey))return y.dispatchEvent(new Event("submit",De))}return a(j,"v"),Yt(j,"onkeydown"),te(y,g,e,N)}a(Gt,"B"),Yt(Gt,"textarea");var Wn=Object.defineProperty,Vn=a((e,t)=>Wn(e,"name",{value:t,configurable:!0}),"n");function Qt(e){const t=new EventTarget;return t.value=e,t}a(Qt,"a"),Vn(Qt,"input");var Yn=Object.defineProperty,Gn=a((e,t)=>Yn(e,"name",{value:t,configurable:!0}),"s");function et(e){return new Promise(t=>{requestAnimationFrame(()=>{const n=e.closest(".observablehq");if(!n)return t();const o=new MutationObserver(()=>{n.contains(e)||(o.disconnect(),t())});o.observe(n,{childList:!0})})})}a(et,"c$1"),Gn(et,"disposal");var Qn=Object.defineProperty,oe=a((e,t)=>Qn(e,"name",{value:t,configurable:!0}),"c");function Xt(e,t,n=et(e)){const o=nt(t),r=oe(()=>tt(e,t),"onsource"),i=oe(()=>(tt(t,e),t.dispatchEvent(new Event(o,De))),"ontarget");return r(),e.addEventListener(nt(e),i),t.addEventListener(o,r),n.then(()=>t.removeEventListener(o,r)),e}a(Xt,"h"),oe(Xt,"bind");function en(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];default:return e.value}}a(en,"f"),oe(en,"get");function tt(e,t){const n=en(t);switch(e.type){case"range":case"number":e.valueAsNumber=n;break;case"date":e.valueAsDate=n;break;case"checkbox":e.checked=n;break;case"file":e.multiple?e.files=n:e.files=[n];break;default:e.value=n;break}}a(tt,"r"),oe(tt,"set");function nt(e){switch(e.type){case"button":case"submit":return"click";case"file":return"change";default:return"input"}}a(nt,"t$1"),oe(nt,"eventof");const Xn=We(rn);export{Xt as bind,ut as button,Pn as checkbox,Nt as color,Pt as date,St as datetime,et as disposal,Ot as email,Xn as file,We as fileOf,At as form,_n as formatAuto,_e as formatDate,ge as formatLocaleAuto,ce as formatLocaleNumber,wn as formatNumber,Fe as formatTrim,Qt as input,qt as number,jt as password,Nn as radio,Lt as range,Rt as search,Ye as searchFilter,Kn as select,Kt as table,xt as tel,ne as text,Gt as textarea,ht as toggle,kt as url};
